# COLMAP SfM tuned for aerial / video sequences (COLMAP 3.13+)
colmap:
  camera_model: "SIMPLE_RADIAL"
  single_camera: true
  use_gpu: true
  gpu_index: 0
  log_level: 1   # 0=INFO,1=WARNING,2=ERROR

sift:
  max_image_size: 3200
  max_num_features: 8192
  peak_threshold: 0.006
  edge_threshold: 10
  extraction_use_gpu: true

matching:
  method: "sequential"     # sequential only here (robust for video)
  use_gpu: true
  gpu_index: 0
  guided_matching: true
  max_num_matches: 32768
  max_ratio: 0.8
  cross_check: true
  overlap: 60              # increase for aerial/drone videos if motion is fast
  loop_detection: true
  # Leave blank to use COLMAP default URL (faiss vocab tree in 3.13)
  vocab_tree_path: ""

mapper:
  min_num_matches: 12
  init_min_num_inliers: 50
  multiple_models: true
  ba_refine_focal_length: true
  ba_refine_principal_point: false
  ba_refine_extra_params: false
  ba_global_function_tolerance: 1.0e-6
